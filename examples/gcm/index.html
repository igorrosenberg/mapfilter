<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Google Maps and Calendar</title>
    <link rel="stylesheet" type="text/css" href="css/aikido.css">
    <script type="text/javascript" src="js/util.js" ></script>
    <script type="text/javascript" src="js/json2.js" ></script>
    <script type="text/javascript" src="js/log.js" ></script>
    <script type="text/javascript" src="js/sorttable.js" ></script>
    <script type="text/javascript" src="js/date.js" ></script>
    <script type="text/javascript" src="js/maps.js" ></script>
    <script type="text/javascript" src="js/geocode.js" ></script>
    <script type="text/javascript" src="js/calendars.js" ></script>
    <script type="text/javascript" src="js/main.js" ></script>
</head>
<body>
<div class="content">
	<h2>Carte des stages</h2>
	<noscript>
  		<div>
  			Cette page permet de voir les stages sur une carte.
  			Il est nécessaire d'activer Javascript pour la voir fonctionner.
  		</div>
	</noscript>
  <div class="controls">
	  <div class="cal_list_div">
	  		<h4>Calendriers</h4>
	  		<ul id='cal_list'>
	  			<li class="temp"><a href='#' onclick="loadScript('mock/gcal.json'); return false;">mock1</a></li>
	  			<li class="temp"><a href='#' onclick="loadScript('mock/idcal.json'); return false;">mock2</a></li>
				<li class="temp"><a href='#' onclick="loadScript('https://www.google.com/calendar/feeds/aikidorennes@gmail.com/public/full'); return false;">Stages en Bretagne</a></li>
				<li class="temp"><a href='#' onclick="loadScript('https://www.google.com/calendar/feeds/aleaikido.com_dejam6fk5hftrvq9iu0gbar9bk@group.calendar.google.com/public/full'); return false;">Stephane Benedetti</a></li>
				<li id="calendar_form">
					<form id='cal_form' name='cal_form'
								onsubmit='loadScript(document.getElementById("user_cal").value); return false;' >
					<input type="text" id='user_cal' placeholder='Id de Google calendar'/> 
					<a href='#' onclick='loadScript(document.getElementById("user_cal").value); return false;'>go</a>
					</form>
				</li>
			</ul>
	  </div>
	  <div class="column" id="no_map_yet">
		 <p>Choisissez un calendrier dans cette liste, ou alors entrez la référence 
		 	d'un calendrier de Google (l'identifiant se trouve dans l'interface de gestion de google:
		 	il est nommé Calendar ID dans les propriétés du calendrier).</p>
	  </div>	
		<div class="column onCalLoad">
	  		<h4>Dates</h4>
			<form id='date_form' name='date_form' onsubmit="return false;" >
				<table>
		  		<tr>
		  			<td>Début</td><td>Fin</td><td></td>
		  		</tr>
		  		<tr>
		  			<td>
						<input type="date" id="startDate" size="10"></input>
					</td>
					<td>
						<input type="date" id="endDate" size="10"></input> 
					</td>
					<td>
						<a href="#" onclick="return false;">go</a>
					</td>
		  		</tr>
		  		</table>
	  		</form>
	  		
		</div>
  </div>	
  <div class="main">
    <div class='wrap_map_canvas'>
      <div id='map_canvas'></div>
    </div>
  </div>

<div>

    <div class="map_controls onCalLoad">
		<table class='sortable' >
			<thead>
				<td>Nom</td><td>Adresse</td><td class="dates">Dates</td>
			</thead>
			<tbody id='event_table_body'>
			</tbody>
		</table>
	 </div>	
</div>
<div class='footer'>
</div>
</body>
</html>
